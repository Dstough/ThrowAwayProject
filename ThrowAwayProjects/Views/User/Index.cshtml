@model List<UserViewModel>;
@if(Model.ErrorMessage != null)
{
    <script>
        $(function() {
            DisplayMessage('@Model.ErrorMessage');
        });
    </script>
    Model.ErrorMessage = null;
}
<h1>Users</h1>
[<a onclick='Modal("@Url.Action("AddEdit","User")")'>Add New</a>]
<table class="table">
    <thead>
        <tr>
            @if(Model.Count > 0)
            {
                <th>User</th>
                <th>Email</th>
                <th>Group</th>
                <th>Authenticated</th>
                <th>Banned</th>
                <th>Dead</th>
            }
            else
            {
                <th>There are no records to display</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach(var item in Model)
        {
            var css = item.GroupName == "Admin" ? "admin-color": "";
            <tr onclick='Modal("@Url.Action("AddEdit","User", new{Id=item.Id})")'>
                <td class='@css'>@item.UserName</td>
                <td class='@css'>@item.Email</td>
                <td class='@css'>@item.GroupName</td>
                <td>@item.Authenticated</td>
                <td>@item.Banned</td>
                <td>@item.Dead</td>
            </tr>
        }
    </tbody>
</table>