@model HomeViewModel;
@if (Model.ErrorMessage != null)
{
    <script>
        $(function() {
            DisplayMessage('@Model.ErrorMessage');
        });
    </script>
    Model.ErrorMessage = null;
}

<div class="thread">
    <h1>News Broadcasts</h1>
    <a>view all</a>
</div>

<div class="thread">
    <h1>Job Postings</h1>
    <a>view all</a>
</div>

<div class="thread">
    <h1>Run Archive</h1>
    <a>view all</a>
</div>

<div class="thread">
    <h1>User Threads</h1>
    <a href="/Forum/List/1">view all</a>
    @foreach (var thread in Model.UserThreads)
    {
        <div class="post comment" onclick="location.href='@thread.Url';">
            <span class="message-body">@thread.Body</span>
            <div class="message-signature @thread.CSS ">
                @thread.Author
                <span class=time-stamp>
                    @thread.PostDate.AddYears(60)
                </span>
            </div>
        </div>
    }
</div>

<script>
    $(function () {
        var converter = new showdown.Converter({
            tables: true,
            strikethrough: true,
        });

        $(".thread .message-body").each(function () {
            var text = $(this).html()
            $(this).html(converter.makeHtml(text));
        });
    });
</script>